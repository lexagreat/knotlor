const maskOptions={mask:"+{7} (000) 000-00-00"};document.querySelectorAll("[data-phone]").length&&document.querySelectorAll("[data-phone]").forEach(e=>{IMask(e,maskOptions)});const body=document.body;function headerWork(){const e=document.querySelector("main.main"),t=document.querySelector(".header"),s=document.querySelector(".header__burger"),o=document.querySelector(".header-menu");s.onclick=()=>{s.classList.contains("active")?(s.classList.remove("active"),o.classList.remove("active"),t.classList.remove("dark"),bodyUnLock()):(s.classList.add("active"),o.classList.add("active"),t.classList.add("dark"),bodyLock())},e?t.classList.add("light"):window.addEventListener("scroll",()=>{window.scrollY>0?t.classList.add("light"):t.classList.remove("light")}),document.querySelectorAll(".header-menu__mains > li > button").forEach(e=>{e.onclick=()=>{let t=e.closest("li").querySelector(".header-assort");t&&t.classList.add("active")}}),document.querySelectorAll(".header-assort__up button").forEach(e=>{e.onclick=()=>{e.closest(".header-assort.active").classList.remove("active")}}),function(){const e=document.querySelector("[data-col]");e.onclick=()=>{let t=e.closest("li").querySelector(".header-collection");t&&t.classList.add("active")};const t=document.querySelector(".header-collection__up button");t.onclick=()=>{console.log("click close"),t.closest(".header-collection.active").classList.remove("active")}}()}function initProductSlider(){if(!document.querySelector(".products-section .swiper"))return;new Swiper(".products-section .swiper",{slidesPerView:"auto",spaceBetween:10,navigation:{prevEl:".products-section .swiper-button-prev",nextEl:".products-section .swiper-button-next"},pagination:{el:".products-section .swiper-pagination",type:"progressbar"},breakpoints:{1025:{spaceBetween:15,slidesPerView:4},569:{spaceBetween:10,slidesPerView:4}},mousewheel:{enabled:!0,forceToAxis:!0}})}function homePage(){!function(){if(!document.querySelector(".home-hero .swiper"))return;const e=document.querySelectorAll(".home-hero__pagination > div"),t=document.querySelectorAll(".progress-circle");let s=new Swiper(".home-hero .swiper",{slidesPerView:1,spaceBetween:0,navigation:{prevEl:".home-hero .swiper-button-prev",nextEl:".home-hero .swiper-button-next"},autoplay:{delay:3e3,disableOnInteraction:!1},on:{autoplayTimeLeft(e,s,o){t.forEach(e=>{e.style.strokeDashoffset=138*o})},slideChange(){e.forEach((e,t)=>{t==s.activeIndex?e.classList.add("active"):e.classList.remove("active")})},init(){e[0].classList.add("active")}},mousewheel:{enabled:!0,forceToAxis:!0},speed:700,effect:"creative",creativeEffect:{prev:{shadow:!0,translate:["-20%",0,-1]},next:{translate:["100%",0,0]}}})}(),function(){if(!document.querySelector(".home-collections .swiper"))return;new Swiper(".home-collections .swiper",{slidesPerView:"auto",spaceBetween:10,navigation:{prevEl:".home-collections .swiper-button-prev",nextEl:".home-collections .swiper-button-next"},pagination:{el:".home-collections .swiper-pagination",type:"progressbar"},breakpoints:{1025:{spaceBetween:15},569:{spaceBetween:10}},mousewheel:{enabled:!0,forceToAxis:!0}})}(),function(){const e=document.querySelectorAll(".home-interier__point");if(!e.length)return;e.forEach(e=>{e.onclick=()=>{if(window.innerWidth>568)return;let t=document.querySelector(`[data-hint='${e.getAttribute("data-dot")}']`);console.log(t),t.classList.add("active")}});document.querySelectorAll(".interier-hint__close").forEach(e=>{e.onclick=t=>{console.log(t),e.closest(".interier-hint").classList.remove("active")}}),document.querySelector(".home-interier__backdrop").onclick=()=>{document.querySelector(".interier-hint.active").classList.remove("active")}}(),function(){if(!document.querySelector(".sales-section .swiper"))return;new Swiper(".sales-section .swiper",{slidesPerView:"auto",spaceBetween:10,navigation:{prevEl:".sales-section .swiper-button-prev",nextEl:".sales-section .swiper-button-next"},pagination:{el:".sales-section .swiper-pagination",type:"progressbar"},breakpoints:{1025:{spaceBetween:15},569:{spaceBetween:10}},mousewheel:{enabled:!0,forceToAxis:!0}})}(),initBlogSwiper()}function initBlogSwiper(){if(!document.querySelector(".blog-section .swiper"))return;new Swiper(".blog-section .swiper",{slidesPerView:"auto",spaceBetween:10,pagination:{el:".blog-section .swiper-pagination",type:"progressbar"},breakpoints:{1025:{spaceBetween:15},569:{spaceBetween:10}},mousewheel:{enabled:!0,forceToAxis:!0}})}function productCard(){const e=document.querySelectorAll(".product-card");e.length&&e.forEach(e=>{e.querySelector(".product-card__like").addEventListener("click",e=>{e.stopPropagation(),e.preventDefault(),s}),e.querySelectorAll(".product-card__colors label").forEach(e=>{e.addEventListener("click",t=>{const o=e.querySelector("input[type='radio']");o&&(o.checked=!0),s})})})}function collectionCard(){const e=document.querySelectorAll(".home-collection__gallery li");e.length&&e.forEach(e=>{e.onclick=()=>{let t=e.closest(".home-collection").querySelector(".home-collection__preview");t&&t.classList.toggle("active")}})}function accordion(e,t){const s=document.querySelectorAll(""+e),o=document.querySelectorAll(""+t);if(s.length>0)for(let e=0;e<s.length;e++){let t=s[e];t.addEventListener("click",()=>{for(let e=0;e<o.length;e++){if(o[e].classList.contains("collapsing"))return;slideHide(o[e])}for(let e=0;e<s.length;e++)s[e].classList.remove("active");let l=o[e];l.classList.contains("collapsing")||(l.classList.contains("collapse_show")?t.classList.remove("active"):t.classList.add("active"),slideShow(l))})}}function catalogPage(){!function(){const e=document.querySelectorAll(".catalog-select");if(!e.length)return;body.addEventListener("click",t=>{t.target.closest(".catalog-select__content > button")?e.forEach(e=>e.classList.remove("open")):t.target.closest(".catalog-select")?t.target.closest(".catalog-select__wrapper")?e.forEach(e=>{e!==t.target.closest(".catalog-select")?e.classList.remove("open"):e.classList.toggle("open")}):(e.forEach(e=>e.classList.remove("open")),t.target.closest(".catalog-select").classList.add("open")):e.forEach(e=>e.classList.remove("open"))}),new Select("#catalog-filters__sort",{selectedId:"asd",data:[{id:"asd",value:"По популярности"},{id:"asd1",value:"Новинки"},{id:"asd2",value:"Сначала дешевле"},{id:"asd3",value:"Сначала дороже"}],onSelect(e,t){t.classList.add("filled"),console.log(e)}})}(),makeRange("#priceRange",4e6,1e5)}function slideShow(e,t=500){if(e.classList.contains("collapsing")||e.classList.contains("collapse_show"))return;e.classList.remove("collapse");const s=e.offsetHeight;e.style.height=0,e.style.overflow="hidden",e.style.transition=`height ${t}ms ease`,e.classList.add("collapsing"),e.offsetHeight,e.style.height=s+"px",window.setTimeout(()=>{e.classList.remove("collapsing"),e.classList.add("collapse"),e.classList.add("collapse_show"),e.style.height="",e.style.transition="",e.style.overflow=""},t)}function slideHide(e,t=500){!e.classList.contains("collapsing")&&e.classList.contains("collapse_show")&&(e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.height=0,e.style.overflow="hidden",e.style.transition=`height ${t}ms ease`,e.classList.remove("collapse"),e.classList.remove("collapse_show"),e.classList.add("collapsing"),window.setTimeout(()=>{e.classList.remove("collapsing"),e.classList.add("collapse"),e.style.height="",e.style.transition="",e.style.overflow=""},t))}document.addEventListener("DOMContentLoaded",()=>{initProductSlider(),productCard(),homePage(),headerWork(),window.innerWidth<=1024&&accordion(".footer__accordeon .footer__title",".footer__accordeon .collapse"),collectionCard(),catalogPage()});const lockPadding=document.querySelectorAll(".lock-padding");let unlock=!0;const timeout=500;function bodyLock(){const e=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px";if(lockPadding.length>0)for(let t=0;t<lockPadding.length;t++){lockPadding[t].style.paddingRight=e}body.classList.add("lock"),unlock=!1,setTimeout((function(){unlock=!0}),500)}function bodyUnLock(){setTimeout((function(){if(lockPadding.length>0)for(let e=0;e<lockPadding.length;e++){lockPadding[e].style.paddingRight="0px"}body.style.paddingRight="0px",body.classList.remove("lock")}),500),unlock=!1,setTimeout((function(){unlock=!0}),500)}class Select{constructor(e,t){this.$el=document.querySelector(e),this.options=t,this.selectedId=t.selectedId,this.render(),this.setup()}render(){this.$el.classList.add("select");const{placeholder:e,data:t,selectedId:s}=this.options;this.$el.innerHTML=this.getTemplate(t,e,s),e&&this.$el.querySelector('[data-type="input"]').classList.add("placeholder")}setup(){this.clickHandler=this.clickHandler.bind(this),this.$el.addEventListener("click",this.clickHandler),this.$value=this.$el.querySelector('[data-type="input"] span')}clickHandler(e){const{type:t}=e.target.dataset;if("input"===t)this.toggle();else if("item"===t){const{id:t}=e.target.dataset;this.select(t)}else("back"===t||"header"===t||e.target.closest(".select__header"))&&this.toggle()}get current(){return this.options.data.find(e=>e.id===this.selectedId)}select(e){this.$el.querySelector('[data-type="input"]').classList.remove("placeholder"),this.selectedId=e,this.$value.innerHTML=this.current.value,this.$el.querySelectorAll('[data-type="item"]').forEach(e=>{e.classList.remove("selected")}),console.log(document.querySelector(`[data-id='${this.current.id}]'`)),this.$el.querySelector(`[data-id='${this.current.id}']`).classList.add("selected"),this.close(),this.options.onSelect&&this.options.onSelect(this.current,this.$el)}open(){this.$el.classList.add("open")}close(){this.$el.classList.remove("open")}toggle(){this.$el.classList.contains("open")?this.close():this.open()}getTemplate(e,t="<span></span>",s){const o=e.map(e=>{let o="";return e.id===s&&(t=e.value,o="selected"),`<li class="select__item ${o}" data-type="item" data-id="${e.id}">${e.value}</li>`});return`\n      <div class="select__header" data-type="header">\n      <div class="select__back" data-type="back"></div>\n      <div class="select__title" data-type="input">\n         <span>${t}</span>\n         <svg xmlns="http://www.w3.org/2000/svg" width="17" height="16" viewBox="0 0 17 16" fill="none">\n            <path d="M14.0879 5.5293C14.0879 5.5293 12.0367 7.00091 11.0293 8.00427C10.0124 9.01707 9.02956 10.5876 9.02956 10.5876C9.02956 10.5876 7.54629 8.51711 6.5293 7.50427C5.52198 6.50107 3.97122 5.5293 3.97122 5.5293" stroke="#202929" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>\n         </svg>\n    </div>\n      </div>\n      <div class="select__content">\n         <ul class="select__list">\n            ${o.join("")}\n         </ul>\n      </div>\n      `}}function makeRange(e,t=1e4,s=500){const o=document.querySelector(e+" .slider-container .price-slider");if(!document.querySelector(e+" .slider-container .price-slider"))return;const l=document.querySelectorAll(e+" .range-input input");let i=s;const c=document.querySelectorAll(e+" .price-input input");for(let e=0;e<c.length;e++){c[e].addEventListener("input",e=>{let s=parseInt(c[0].value),n=parseInt(c[1].value),a=n-s;if(s<0&&(alert("minimum price cannot be less than 0"),c[0].value=0,s=0),n>t&&(alert("maximum price cannot be greater than "+t),c[1].value=t,n=t),s>n-i&&(c[0].value=n-i,s=n-i,s<0&&(c[0].value=0,s=0)),a>=i&&n<=l[1].max)if("min-input"===e.target.className){l[0].value=s;let e=l[0].max;o.style.left=s/e*100+"%"}else{l[1].value=n;let e=l[1].max;o.style.right=100-n/e*100+"%"}});for(let e=0;e<l.length;e++)l[e].addEventListener("input",e=>{let t=parseInt(l[0].value),s=parseInt(l[1].value);s-t<i?"min-range"===e.target.className?l[0].value=s-i:l[1].value=t+i:(c[0].value=t,c[1].value=s,o.style.left=t/l[0].max*100+"%",o.style.right=100-s/l[1].max*100+"%")})}}
//# sourceMappingURL=../sourcemaps/app.min.js.map
