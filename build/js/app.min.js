const maskOptions={mask:"+{7} (000) 000-00-00"};document.querySelectorAll("[data-phone]").length&&document.querySelectorAll("[data-phone]").forEach(e=>{IMask(e,maskOptions)});const body=document.body;function headerWork(){const e=document.querySelector("main.main"),t=document.querySelector(".header"),o=document.querySelector(".header__burger"),s=document.querySelector(".header-menu");o.onclick=()=>{o.classList.contains("active")?(o.classList.remove("active"),s.classList.remove("active"),t.classList.remove("dark"),bodyUnLock()):(o.classList.add("active"),s.classList.add("active"),t.classList.add("dark"),bodyLock())};let l=0;const c=()=>{if(window.innerWidth>992){const e=document.documentElement.scrollTop;if(e<=0)return;l<e?!t.classList.contains("hidden")&&t.classList.add("hidden"):t.classList.remove("hidden"),l=e}};e?t.classList.add("light"):window.addEventListener("scroll",()=>{window.scrollY>0?t.classList.add("light"):t.classList.remove("light")}),document.querySelectorAll(".header-menu__mains > li > button").forEach(e=>{e.onclick=()=>{let t=e.closest("li").querySelector(".header-assort");t&&t.classList.add("active")}}),document.querySelectorAll(".header-assort__up button").forEach(e=>{e.onclick=()=>{e.closest(".header-assort.active").classList.remove("active")}}),function(){const e=document.querySelector("[data-col]");e.onclick=()=>{let t=e.closest("li").querySelector(".header-collection");t&&t.classList.add("active")};const t=document.querySelector(".header-collection__up button");t.onclick=()=>{console.log("click close"),t.closest(".header-collection.active").classList.remove("active")}}(),c(),window.addEventListener("scroll",c)}function initProductSlider(){if(!document.querySelector(".products-section .swiper"))return;new Swiper(".products-section .swiper",{slidesPerView:"auto",spaceBetween:10,navigation:{prevEl:".products-section .swiper-button-prev",nextEl:".products-section .swiper-button-next"},pagination:{el:".products-section .swiper-pagination",type:"progressbar"},breakpoints:{1025:{spaceBetween:15,slidesPerView:4},569:{spaceBetween:10,slidesPerView:4}},mousewheel:{enabled:!0,forceToAxis:!0}})}function homePage(){!function(){if(!document.querySelector(".home-hero .swiper"))return;const e=document.querySelectorAll(".home-hero__pagination > div"),t=document.querySelectorAll(".progress-circle");let o=new Swiper(".home-hero .swiper",{slidesPerView:1,spaceBetween:0,navigation:{prevEl:".home-hero .swiper-button-prev",nextEl:".home-hero .swiper-button-next"},autoplay:{delay:3e3,disableOnInteraction:!1},on:{autoplayTimeLeft(e,o,s){t.forEach(e=>{e.style.strokeDashoffset=138*s})},slideChange(){e.forEach((e,t)=>{t==o.activeIndex?e.classList.add("active"):e.classList.remove("active")})},init(){e[0].classList.add("active")}},mousewheel:{enabled:!0,forceToAxis:!0},speed:700,effect:"creative",creativeEffect:{prev:{shadow:!0,translate:["-20%",0,-1]},next:{translate:["100%",0,0]}}})}(),function(){if(!document.querySelector(".home-collections .swiper"))return;new Swiper(".home-collections .swiper",{slidesPerView:"auto",spaceBetween:10,navigation:{prevEl:".home-collections .swiper-button-prev",nextEl:".home-collections .swiper-button-next"},pagination:{el:".home-collections .swiper-pagination",type:"progressbar"},breakpoints:{1025:{spaceBetween:15},569:{spaceBetween:10}},mousewheel:{enabled:!0,forceToAxis:!0}})}(),function(){const e=document.querySelectorAll(".home-interier__point");if(!e.length)return;e.forEach(e=>{e.onclick=()=>{if(window.innerWidth>568)return;let t=document.querySelector(`[data-hint='${e.getAttribute("data-dot")}']`);console.log(t),t.classList.add("active")}});document.querySelectorAll(".interier-hint__close").forEach(e=>{e.onclick=t=>{console.log(t),e.closest(".interier-hint").classList.remove("active")}}),document.querySelector(".home-interier__backdrop").onclick=()=>{document.querySelector(".interier-hint.active").classList.remove("active")}}(),function(){if(!document.querySelector(".sales-section .swiper"))return;new Swiper(".sales-section .swiper",{slidesPerView:"auto",spaceBetween:10,navigation:{prevEl:".sales-section .swiper-button-prev",nextEl:".sales-section .swiper-button-next"},pagination:{el:".sales-section .swiper-pagination",type:"progressbar"},breakpoints:{1025:{spaceBetween:15},569:{spaceBetween:10}},mousewheel:{enabled:!0,forceToAxis:!0}})}(),initBlogSwiper()}function initBlogSwiper(){if(!document.querySelector(".blog-section .swiper"))return;new Swiper(".blog-section .swiper",{slidesPerView:"auto",spaceBetween:10,pagination:{el:".blog-section .swiper-pagination",type:"progressbar"},breakpoints:{1025:{spaceBetween:15},569:{spaceBetween:10}},mousewheel:{enabled:!0,forceToAxis:!0}})}function productCard(){const e=document.querySelectorAll(".product-card");e.length&&e.forEach(e=>{e.querySelector(".product-card__like").addEventListener("click",e=>{e.stopPropagation(),e.preventDefault(),s}),e.querySelectorAll(".product-card__colors label").forEach(e=>{e.addEventListener("click",t=>{const o=e.querySelector("input[type='radio']");o&&(o.checked=!0),s})})})}function collectionCard(){const e=document.querySelectorAll(".home-collection__gallery li");e.length&&e.forEach(e=>{e.onclick=()=>{let t=e.closest(".home-collection").querySelector(".home-collection__preview");t&&t.classList.toggle("active")}})}function accordion(e,t){const o=document.querySelectorAll(""+e),s=document.querySelectorAll(""+t);if(o.length>0)for(let e=0;e<o.length;e++){let t=o[e];t.addEventListener("click",()=>{for(let e=0;e<s.length;e++){if(s[e].classList.contains("collapsing"))return;slideHide(s[e])}for(let e=0;e<o.length;e++)o[e].classList.remove("active");let l=s[e];l.classList.contains("collapsing")||(l.classList.contains("collapse_show")?t.classList.remove("active"):t.classList.add("active"),slideShow(l))})}}function catalogPage(){!function(){const e=document.querySelectorAll(".catalog-select");if(!e.length)return;body.addEventListener("click",t=>{t.target.closest(".catalog-select__content > button")?e.forEach(e=>e.classList.remove("open")):t.target.closest(".catalog-select")?t.target.closest(".catalog-select__wrapper")?e.forEach(e=>{e!==t.target.closest(".catalog-select")?e.classList.remove("open"):e.classList.toggle("open")}):(e.forEach(e=>e.classList.remove("open")),t.target.closest(".catalog-select").classList.add("open")):e.forEach(e=>e.classList.remove("open"))}),new Select("#catalog-filters__sort",{selectedId:"asd",data:[{id:"asd",value:"По популярности"},{id:"asd1",value:"Новинки"},{id:"asd2",value:"Сначала дешевле"},{id:"asd3",value:"Сначала дороже"}],onSelect(e,t){t.classList.add("filled"),console.log(e)}})}(),function(){if(!document.querySelectorAll(".filters-modal__section").length)return;const e=document.querySelectorAll(".filters-modal__subheader"),t=document.querySelectorAll(".filters-modal__section .collapse");if(e.length>0)for(let o=0;o<e.length;o++){let s=e[o];s.addEventListener("click",()=>{let e=t[o];e.classList.contains("collapsing")||(e.classList.contains("collapse_show")?s.classList.remove("active"):s.classList.add("active"),slideToggle(e))})}}(),makeRange("#priceRange",4e6,1e5)}function productPage(){!function(){const e=document.querySelectorAll(".product-zoom__gallery_thumbs ul li a"),t=document.querySelectorAll(".product-zoom__gallery img");if(!e.length)return;e.forEach((t,o)=>{t.addEventListener("click",(function(t){e.forEach((e,t)=>{o!==t?e.classList.remove("active"):e.classList.add("active")}),t.preventDefault();const s=this.getAttribute("data-scroll");console.log(s);const l=document.querySelector(`[data-scroll='${s}']`);l&&l.scrollIntoView({behavior:"smooth",block:"start"})}))});const o=new IntersectionObserver((t,o)=>{t.forEach(t=>{if(!t.isIntersecting&&t.boundingClientRect.top<0){let o=t.target.nextElementSibling;if(!o||!o.getAttribute("data-scroll"))return;let s=o.getAttribute("data-scroll");e.forEach(e=>{e.classList.remove("active"),e.getAttribute("data-scroll")===s&&e.classList.add("active")})}else if(t.boundingClientRect.top<0){let o=t.target;if(!o||!o.getAttribute("data-scroll"))return;let s=o.getAttribute("data-scroll");e.forEach(e=>{e.classList.remove("active"),e.getAttribute("data-scroll")===s&&e.classList.add("active")})}})},{rootMargin:"-150px 0px 0px 0px",threshold:0});t.forEach(e=>o.observe(e))}(),accordion(".product-accordeon__header",".product-accordeon__collapse"),function(){const e=document.querySelectorAll(".product-review__block button");if(!e.length)return;e.forEach(e=>{e.onclick=e=>{e.target.previousElementSibling.classList.add("full")}})}();const e=document.querySelectorAll(".product-gallery__list li"),t=document.querySelectorAll(".product-gallery > .swiper .swiper-slide"),o=document.querySelector(".product-zoom");if(!e.length)return;e.forEach((e,t)=>{e.onclick=()=>{popupOpen(o),document.querySelectorAll(".product-zoom__gallery img")[t].scrollIntoView({behavior:"smooth",block:"start"})}}),t.forEach((e,t)=>{e.onclick=()=>{popupOpen(o),s.slideTo(t)}});document.querySelector(".product-gallery .modal__close").onclick=()=>{popupClose(o)};new Swiper(".product-gallery > .swiper",{slidesPerView:1,pagination:{el:".product-gallery > .swiper-pagination",type:"progressbar"}});let s=new Swiper(".product-zoom__main",{slidesPerView:1,pagination:{el:".product-zoom .modal__content .swiper-pagination",type:"custom",renderCustom:function(e,t,o){return`${t} из ${o}`}}});tabs('[name="product-tabs"]',".product-about__tab")}function slideShow(e,t=500){if(e.classList.contains("collapsing")||e.classList.contains("collapse_show"))return;e.classList.remove("collapse");const o=e.offsetHeight;e.style.height=0,e.style.overflow="hidden",e.style.transition=`height ${t}ms ease`,e.classList.add("collapsing"),e.offsetHeight,e.style.height=o+"px",window.setTimeout(()=>{e.classList.remove("collapsing"),e.classList.add("collapse"),e.classList.add("collapse_show"),e.style.height="",e.style.transition="",e.style.overflow=""},t)}function slideHide(e,t=500){!e.classList.contains("collapsing")&&e.classList.contains("collapse_show")&&(e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.height=0,e.style.overflow="hidden",e.style.transition=`height ${t}ms ease`,e.classList.remove("collapse"),e.classList.remove("collapse_show"),e.classList.add("collapsing"),window.setTimeout(()=>{e.classList.remove("collapsing"),e.classList.add("collapse"),e.style.height="",e.style.transition="",e.style.overflow=""},t))}function slideToggle(e,t=500){e.classList.contains("collapse_show")?slideHide(e):slideShow(e)}document.addEventListener("DOMContentLoaded",()=>{initProductSlider(),productCard(),homePage(),headerWork(),window.innerWidth<=1024&&accordion(".footer__accordeon .footer__title",".footer__accordeon .collapse"),collectionCard(),catalogPage(),productPage()});class Select{constructor(e,t){this.$el=document.querySelector(e),this.options=t,this.selectedId=t.selectedId,this.render(),this.setup()}render(){this.$el.classList.add("select");const{placeholder:e,data:t,selectedId:o}=this.options;this.$el.innerHTML=this.getTemplate(t,e,o),e&&this.$el.querySelector('[data-type="input"]').classList.add("placeholder")}setup(){this.clickHandler=this.clickHandler.bind(this),this.$el.addEventListener("click",this.clickHandler),this.$value=this.$el.querySelector('[data-type="input"] span')}clickHandler(e){const{type:t}=e.target.dataset;if("input"===t)this.toggle();else if("item"===t){const{id:t}=e.target.dataset;this.select(t)}else("back"===t||"header"===t||e.target.closest(".select__header"))&&this.toggle()}get current(){return this.options.data.find(e=>e.id===this.selectedId)}select(e){this.$el.querySelector('[data-type="input"]').classList.remove("placeholder"),this.selectedId=e,this.$value.innerHTML=this.current.value,this.$el.querySelectorAll('[data-type="item"]').forEach(e=>{e.classList.remove("selected")}),console.log(document.querySelector(`[data-id='${this.current.id}]'`)),this.$el.querySelector(`[data-id='${this.current.id}']`).classList.add("selected"),this.close(),this.options.onSelect&&this.options.onSelect(this.current,this.$el)}open(){this.$el.classList.add("open")}close(){this.$el.classList.remove("open")}toggle(){this.$el.classList.contains("open")?this.close():this.open()}getTemplate(e,t="<span></span>",o){const s=e.map(e=>{let s="";return e.id===o&&(t=e.value,s="selected"),`<li class="select__item ${s}" data-type="item" data-id="${e.id}">${e.value}</li>`});return`\n      <div class="select__header" data-type="header">\n      <div class="select__back" data-type="back"></div>\n      <div class="select__title" data-type="input">\n         <span>${t}</span>\n         <svg xmlns="http://www.w3.org/2000/svg" width="17" height="16" viewBox="0 0 17 16" fill="none">\n            <path d="M14.0879 5.5293C14.0879 5.5293 12.0367 7.00091 11.0293 8.00427C10.0124 9.01707 9.02956 10.5876 9.02956 10.5876C9.02956 10.5876 7.54629 8.51711 6.5293 7.50427C5.52198 6.50107 3.97122 5.5293 3.97122 5.5293" stroke="#202929" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>\n         </svg>\n    </div>\n      </div>\n      <div class="select__content">\n         <ul class="select__list">\n            ${s.join("")}\n         </ul>\n      </div>\n      `}}function makeRange(e,t=1e4,o=500){const s=document.querySelector(e+" .slider-container .price-slider");if(!document.querySelector(e+" .slider-container .price-slider"))return;const l=document.querySelectorAll(e+" .range-input input");let c=o;const i=document.querySelectorAll(e+" .price-input input");for(let e=0;e<i.length;e++){i[e].addEventListener("input",e=>{let o=parseInt(i[0].value),n=parseInt(i[1].value),a=n-o;if(o<0&&(alert("minimum price cannot be less than 0"),i[0].value=0,o=0),n>t&&(alert("maximum price cannot be greater than "+t),i[1].value=t,n=t),o>n-c&&(i[0].value=n-c,o=n-c,o<0&&(i[0].value=0,o=0)),a>=c&&n<=l[1].max)if("min-input"===e.target.className){l[0].value=o;let e=l[0].max;s.style.left=o/e*100+"%"}else{l[1].value=n;let e=l[1].max;s.style.right=100-n/e*100+"%"}});for(let e=0;e<l.length;e++)l[e].addEventListener("input",e=>{let t=parseInt(l[0].value),o=parseInt(l[1].value);o-t<c?"min-range"===e.target.className?l[0].value=o-c:l[1].value=t+c:(i[0].value=t,i[1].value=o,s.style.left=t/l[0].max*100+"%",s.style.right=100-o/l[1].max*100+"%")})}}function accordion(e,t){const o=document.querySelectorAll(""+e),s=document.querySelectorAll(""+t);if(o.length>0)for(let e=0;e<o.length;e++){let t=o[e];t.addEventListener("click",()=>{for(let e=0;e<s.length;e++){if(s[e].classList.contains("collapsing"))return;slideHide(s[e])}for(let e=0;e<o.length;e++)o[e].classList.remove("active");let l=s[e];l.classList.contains("collapsing")||(l.classList.contains("collapse_show")?t.classList.remove("active"):t.classList.add("active"),slideShow(l))})}}function slideShow(e,t=500){if(e.classList.contains("collapsing")||e.classList.contains("collapse_show"))return;e.classList.remove("collapse");const o=e.offsetHeight;e.style.height=0,e.style.overflow="hidden",e.style.transition=`height ${t}ms ease`,e.classList.add("collapsing"),e.offsetHeight,e.style.height=o+"px",window.setTimeout(()=>{e.classList.remove("collapsing"),e.classList.add("collapse"),e.classList.add("collapse_show"),e.style.height="",e.style.transition="",e.style.overflow=""},t)}function slideHide(e,t=500){!e.classList.contains("collapsing")&&e.classList.contains("collapse_show")&&(e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.height=0,e.style.overflow="hidden",e.style.transition=`height ${t}ms ease`,e.classList.remove("collapse"),e.classList.remove("collapse_show"),e.classList.add("collapsing"),window.setTimeout(()=>{e.classList.remove("collapsing"),e.classList.add("collapse"),e.style.height="",e.style.transition="",e.style.overflow=""},t))}function tabs(e,t){const o=document.querySelectorAll(e),s=document.querySelectorAll(t);let l;o.length&&o.forEach(e=>{e.addEventListener("change",()=>{e.checked&&(l=e.value),s.forEach(e=>{e.classList.remove("active"),e.getAttribute("data-tab")==l&&e.classList.add("active")})})})}const popupLinks=document.querySelectorAll(".modal__link"),lockPadding=document.querySelectorAll(".lock-padding"),popupCloseIcon=document.querySelectorAll(".modal__close");let unlock=!0;const timeout=500;if(popupLinks.length>0)for(let e=0;e<popupLinks.length;e++){const t=popupLinks[e];t.addEventListener("click",(function(e){const o=t.getAttribute("href").replace("#",""),s=document.getElementById(o);console.log(s),popupOpen(s),e.preventDefault()}))}if(popupCloseIcon.length>0)for(let e=0;e<popupCloseIcon.length;e++){const t=popupCloseIcon[e];t.addEventListener("click",(function(e){popupClose(t.closest(".modal")),e.preventDefault()}))}function popupOpen(e){if(e&&unlock){const t=document.querySelector(".modal.open");t?popupClose(t,!1):bodyLock(),e.classList.add("open"),e.addEventListener("click",(function(e){e.target.closest(".modal__content")||popupClose(e.target.closest(".modal"))}))}}function popupClose(e,t=!0){unlock&&(e.classList.remove("open"),t&&bodyUnLock())}function bodyLock(){const e=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px";if(lockPadding.length>0)for(let t=0;t<lockPadding.length;t++){lockPadding[t].style.paddingRight=e}body.classList.add("lock"),unlock=!1,setTimeout((function(){unlock=!0}),500)}function bodyUnLock(){setTimeout((function(){if(lockPadding.length>0)for(let e=0;e<lockPadding.length;e++){lockPadding[e].style.paddingRight="0px"}body.style.paddingRight="0px",body.classList.remove("lock")}),500),unlock=!1,setTimeout((function(){unlock=!0}),500)}function tabs(e,t){const o=document.querySelectorAll(e),s=document.querySelectorAll(t);let l;o.length&&o.forEach(e=>{e.addEventListener("change",()=>{e.checked&&(l=e.value),s.forEach(e=>{e.classList.remove("active"),e.getAttribute("data-tab")==l&&e.classList.add("active")})})})}document.addEventListener("keydown",(function(e){if(27===e.which){popupClose(document.querySelector(".modal.open"))}}));
//# sourceMappingURL=../sourcemaps/app.min.js.map
